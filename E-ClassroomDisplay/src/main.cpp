/******************************************************************************
 * File : Main program
 ******************************************************************************/

/* Includes ------------------------------------------------------------------*/
#include "main.h"

Display display;
Connection connection;
Main main;

// ----------------------------------------------------------------------------
// Function prototypes
// ----------------------------------------------------------------------------
void setSleep(uint32_t min, uint8_t sec);

// ----------------------------------------------------------------------------
// Main (Setup)
// ----------------------------------------------------------------------------
void setup(){
  Serial.begin(115200);
  display.initDisplay();
  while(!Serial);
  display.updateDisplay();
  main.setSleep(connection.getMin(), connection.getSec());
}

// ----------------------------------------------------------------------------
// Main (Loop)
// ----------------------------------------------------------------------------
void loop(){
  //do nothing
}

// ----------------------------------------------------------------------------
// Functions
// ----------------------------------------------------------------------------
void Main::setSleep(uint32_t min, uint8_t sec){
  uint32_t time;
  time = (min + sec)*10^6;
  ESP.deepSleep(time);
}